# <a name="coverity-export-manual">Coverity Export Manual</a>

Click [here](readme.md) to go back to the manual.

- [Coverity Export Manual](#coverity-export-manual)
  - [Export](#export)
    - [Common Parameters Overview](#common-parameters-overview)
    - [Filtering](#filtering)
    - [Mapping Teams](#mapping-teams)

## <a name="export">Export</a>

*NOTE: Prior to Export analysis report Coverity Project must be analyzed with `coverity analyze` command.*
Coverity analysis report is generated by `coverity export` command.

SCA Tools supports filtering of analysis report based on `TRANSLATION_UNITS_BLACKLIST`.

Additionally, mapping functionality based on GitHub CODEOWNERS files is available.

SCA Tools exports analysis report to `COVERITY_PROJECT_PATH/sca_tools/export/cov-format-errors/json-output.xlsx`

SCA Tools exports filtered analysis report to `COVERITY_PROJECT_PATH/sca_tools/cov-format-errors/json-output-filtered.xlsx`

SCA Tools save log file of the `coverity export` command to `HELPER_LOGS_PATH/sca_tools_coverity_export_{{datetime}}.log` file.

Additionally `coverity export` supports generation of Coverity native HTML report. This report is a collection of HTML files,
where the analyzed files are linked to corresponding HTML files with the highlighted warnings.
`COVERITY_WITH_NATIVE_HTML_REPORT` parameter is used to enable native HTML report generation.

SCA Tools exports Coverity native HTML report to `COVERITY_PROJECT_PATH/sca_tools/export/html/` directory.

### <a name="common-parameters-overview">Common Parameters Overview</a>

Parameters described in the section:

- `COVERITY_WITH_NATIVE_HTML_REPORT` - A boolean to enable Coverity native HTML report generation.

- `EXPORT_FORMAT` - Defines the report export format. Available formats: 'xlsx', 'csv', 'csv_zip', 'stdout', 'vscode'
or 'all', where 'all' is a list of commonly used report formats: xlsx and csv.
Default format is 'all'.

### <a name="filtering">Filtering</a>

Parameters described in the section:

- `TRANSLATION_UNITS_BLACKLIST` - list of translation units that will be excluded from Coverity Project

In case if `TRANSLATION_UNITS_BLACKLIST` is specified - SCA Tools will generate both full and filtered analysis reports.
Filtered report excludes warnings on files that are matching expressions in `TRANSLATION_UNITS_BLACKLIST`.

### <a name="mapping-teams">Mapping Teams</a>

Parameters described in the section:

- `CODEOWNERS_FILE` - Absolute path or relative to `PROJECT_ROOT` to the codeowners file
- `ONLY_LAST_TEAM` - Include only the last matched team in the teams report

SCA Tools support team mapping for files where warnings are found based on GitHub Codeowners files.
The feature is enabled automatically once `CODEOWNERS_FILE` is defined. It creates 2 additional columns - "Team" (with list of teams) and "Components.
If `ONLY_LAST_TEAM` is specified then only teams from the latest match are returned.
Team mapping is applied on both - full and filtered analysis reports.